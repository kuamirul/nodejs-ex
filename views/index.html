
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>PREFCHEM-CERDAS POC</title>


    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script  src="https://code.jquery.com/jquery-3.4.1.js"  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="  crossorigin="anonymous"></script>

</head>
<body>

<div class='container'>

	
<div class="row">
    <form class="col s12" action="/getScore" method="get">
	  <h4> Crude Overhead Corrosion Rate Prediction </h4>
	  <h5>Insert parameter values:</h5>	
      <div class="row">
        <div class="input-field inline col s2">
          <input placeholder="Parameter 1" id="param_1" name="param_1" type="text" class="validate">
          <label for="param_1">pH</label>
        </div>
		<div class="input-field inline col s2">
          <input placeholder="Parameter 2" id="param_2" name="param_2" type="text" class="validate">
          <label for="param_2">Iron</label>
        </div>
		<div class="input-field inline col s2">
          <input placeholder="Parameter 3" id="param_3" name="param_3" type="text" class="validate">
          <label for="param_3">Chloride</label>
        </div>
		<!-- <div class="input-field inline col s2"> -->
          <!-- <input placeholder="Parameter 4" id="param_4" name="param_4" type="text" class="validate"> -->
          <!-- <label for="param_4">Parameter 4</label> -->
        <!-- </div> -->
		<!-- <div class="input-field inline col s2"> -->
          <!-- <input placeholder="Parameter 5" id="param_5" name="param_5" type="text" class="validate"> -->
          <!-- <label for="param_5">Parameter 5</label> -->
        <!-- </div> -->
		<div class="col s2">
		  <input type="submit" value="Get Prediction">
		<div class="input-field inline">
          <input disabled placeholder="Predicted value" id="out_value" type="text" class="validate">
          <label for="out_value">Predicted value:</label>
        </div>		  
        </div>

      </div>
	  <!-- <div class="row"> -->
		<!-- <div class="input-field inline col s2 offset-s10"> -->
          <!-- <input disabled placeholder="Predicted value" id="out_value" type="text" class="validate"> -->
          <!-- <label for="out_value">Predicted value:</label> -->
        <!-- </div>	   -->
	  <!-- </div> -->
	  
    </form>
  </div>
        	
          <!-- <section class="col-xs-12 col-sm-6 col-md-6"> -->

                <!-- <h2>Request information</h2> -->
                <!-- <p>Page view count: -->
                <!-- <% if (pageCountMessage) { %> -->
                   <!-- <span class="code" id="count-value"><%=pageCountMessage%></span> -->
                   <!-- </p> -->
                    <!-- <div class="code"><h3>DB Connection Info:</h3> -->
                      <!-- <table style='margin-left: 20px'> -->
                          <!-- <tr><td>Type:</td><td><%= dbInfo.type %></td></tr> -->
                          <!-- <tr><td>URL:</td><td><%= dbInfo.url %></td></tr> -->
                      <!-- </table> -->
                    <!-- </div> -->
                <!-- <% } else { %> -->
                   <!-- <span class="code" id="count-value">No database configured</span> -->
                   <!-- </p> -->
                <!-- <%} %> -->
          <!-- </section> -->
          <p id="encoded"></p>
          <p id="error"></p>
        </div>

        <footer>
          <div class="logo"></div>
        </footer>
</div>


<script>
/* curl \
	-X POST \
	-d '{"fields": ["PC_PMO_DLB_TCP_CGCE_CD563_AN_Air_Supply_Pressure", "PC_PMO_DLB_TCP_CGCE_CD563_AN_Bleed_Valve_Position", "PC_PMO_DLB_TCP_CGCE_CD563_AN_Cooldown_Time_Remaining", "PC_PMO_DLB_TCP_CGCE_CD563_AN_Cpsr_Press_Hold_Time_Rem", "PC_PMO_DLB_TCP_CGCE_CD563_AN_DC_Supply_Voltage"], "rows": [["713.56884765625", "0.074519082903862", "601.7633666992188", "108.3054428100586", "27.437639236450195"]]}' \
	http://localhost:8181/models/0fe07078-1a58-11ea-b2dc-d8c497b8323d/score \
	-H "Content-Type: application/json" 


$.ajax("http://172.16.239.131:8181/models/0fe07078-1a58-11ea-b2dc-d8c497b8323d/score", {
    type: "POST",
    data: {"fields": ["PC_PMO_DLB_TCP_CGCE_CD563_AN_Air_Supply_Pressure", "PC_PMO_DLB_TCP_CGCE_CD563_AN_Bleed_Valve_Position", "PC_PMO_DLB_TCP_CGCE_CD563_AN_Cooldown_Time_Remaining", "PC_PMO_DLB_TCP_CGCE_CD563_AN_Cpsr_Press_Hold_Time_Rem", "PC_PMO_DLB_TCP_CGCE_CD563_AN_DC_Supply_Voltage"], "rows": [["713.56884765625", "0.074519082903862", "601.7633666992188", "108.3054428100586", "27.437639236450195"]]},    
    contentType: "application/json",
}).done(function (data) {
    console.log(data);
    $("#encoded").html(data.encoded);
}).fail(function (xhr, status, error) {
    $("#error").html("Could not reach the API: " + error);
});
*/

fetch("http://172.16.239.131:8181/models/0fe07078-1a58-11ea-b2dc-d8c497b8323d/score", {
    method: "POST",
    headers: {
        "Content-Type": "application/json"
    },
    body: {"fields": ["PC_PMO_DLB_TCP_CGCE_CD563_AN_Air_Supply_Pressure", "PC_PMO_DLB_TCP_CGCE_CD563_AN_Bleed_Valve_Position", "PC_PMO_DLB_TCP_CGCE_CD563_AN_Cooldown_Time_Remaining", "PC_PMO_DLB_TCP_CGCE_CD563_AN_Cpsr_Press_Hold_Time_Rem", "PC_PMO_DLB_TCP_CGCE_CD563_AN_DC_Supply_Voltage"], "rows": [["713.56884765625", "0.074519082903862", "601.7633666992188", "108.3054428100586", "27.437639236450195"]]},
    mode: "cors"
}).then(function(response) {
    if (response.ok) {
        return response.json();
    } else {
        throw new Error("Could not reach the API: " + response.statusText);
    }
}).then(function(data) {
    document.getElementById("encoded").innerHTML = data.encoded;
}).catch(function(error) {
    document.getElementById("error").innerHTML = error.message;
});

</script>
</body>
</html>
